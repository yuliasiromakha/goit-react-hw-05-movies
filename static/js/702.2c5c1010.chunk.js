"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[702],{702:function(e,n,i){i.r(n),i.d(n,{default:function(){return l}});var t=i(439),s=i(791),c=i(689),o=i(87),r=i(184),l=function(){var e=(0,c.UO)().movieId,n=(0,c.s0)(),i=(0,s.useState)(null),l=(0,t.Z)(i,2),a=l[0],h=l[1],d=(0,s.useState)(""),u=(0,t.Z)(d,2),v=u[0],j=u[1],x=(0,s.useState)([]),m=(0,t.Z)(x,2),f=m[0],p=m[1];(0,s.useEffect)((function(){var n="84c9ab04e100be4662cee8d4849b6920",i="https://api.themoviedb.org";""===v?fetch("".concat(i,"/3/movie/").concat(e,"?api_key=").concat(n)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){h(e),console.log(e)})).catch((function(e){console.log("Error fetching movie:",e)})):fetch("".concat(i,"/search/search-movies?query=").concat(v,"&api_key=").concat(n)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){p(e.results),console.log(e)})).catch((function(e){console.log("Error fetching search results:",e)}))}),[e,v]);return a||0!==f.length?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.rU,{to:"/",className:"button",children:"Go back"}),(0,r.jsxs)("div",{className:"movie_section",children:[(0,r.jsx)("div",{children:(0,r.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(null===a||void 0===a?void 0:a.poster_path),alt:null===a||void 0===a?void 0:a.title,height:400})}),(0,r.jsxs)("div",{className:"movie_info",children:[(0,r.jsx)("h2",{children:null===a||void 0===a?void 0:a.title}),(0,r.jsxs)("p",{children:["User Score: ",null===a||void 0===a?void 0:a.vote_average]}),(0,r.jsx)("h3",{children:"Overview"}),(0,r.jsx)("p",{className:"overview",children:null===a||void 0===a?void 0:a.overview}),(0,r.jsx)("h3",{children:"Genres"}),(0,r.jsx)("p",{children:null===a||void 0===a?void 0:a.genres.map((function(e){return(0,r.jsxs)("span",{children:[e.name,", "]},e.id)}))})]})]}),(0,r.jsxs)("div",{className:"additional_info",children:[(0,r.jsx)("p",{children:"Additional information"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{children:(0,r.jsx)(o.rU,{to:"cast",children:"Cast"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o.rU,{to:"reviews",children:"Reviews"})})]})]}),(0,r.jsxs)("div",{className:"search_section",children:[(0,r.jsx)("input",{type:"text",value:v,onChange:function(e){j(e.target.value)},placeholder:"Search movies..."}),(0,r.jsx)("button",{onClick:function(){n("/movies?search=".concat(v))},children:"Search"})]}),f.length>0&&(0,r.jsxs)("div",{className:"search_results",children:[(0,r.jsx)("h2",{children:"Search Results"}),(0,r.jsx)("ul",{children:f.map((function(e){return(0,r.jsx)("li",{children:(0,r.jsx)(o.rU,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})]}),(0,r.jsx)(c.j3,{})]}):(0,r.jsx)("div",{children:"Loading..."})}}}]);
//# sourceMappingURL=702.2c5c1010.chunk.js.map