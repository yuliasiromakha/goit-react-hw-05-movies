"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[227],{227:function(e,t,r){r.r(t);var n=r(439),c=r(791),s=r(689),a=r(87),o=(r(62),r(184));t.default=function(){var e=(0,s.TH)(),t=(0,c.useState)(""),r=(0,n.Z)(t,2),i=r[0],u=r[1],l=(0,c.useState)([]),h=(0,n.Z)(l,2),f=h[0],m=h[1],d=(0,a.lr)(),p=(0,n.Z)(d,2),v=p[0],j=p[1];(0,c.useEffect)((function(){var e=v.get("query");e&&(u(e),x(e))}),[v]);var x=function(e){if(""!==e.trim()){fetch("".concat("https://api.themoviedb.org","/3/search/movie?query=").concat(e,"&api_key=").concat("84c9ab04e100be4662cee8d4849b6920")).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){m(e.results),0===e.results.length&&alert("Sorry, no movie was found")})).catch((function(e){console.log("Error fetching search results:",e)}))}else m([])};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("form",{className:"search_section",onSubmit:function(e){e.preventDefault(),j({query:i}),x(i)},children:[(0,o.jsx)("input",{type:"text",value:i,onChange:function(e){var t=e.target.value;u(t)},placeholder:"Search movies..."}),(0,o.jsx)("button",{type:"submit",children:"Search"})]}),f.length>0&&(0,o.jsxs)("div",{className:"search_results",children:[(0,o.jsx)("h2",{children:"Search Results"}),(0,o.jsx)("ul",{children:f.map((function(t){return(0,o.jsx)("li",{children:(0,o.jsx)(a.rU,{to:"/movies/".concat(t.id),state:{from:e},children:t.title})},t.id)}))})]}),(0,o.jsx)(s.j3,{})]})}},62:function(){}}]);
//# sourceMappingURL=227.ba962b70.chunk.js.map