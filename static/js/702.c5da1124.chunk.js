"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[702],{702:function(e,n,t){t.r(n),t.d(n,{default:function(){return a}});var c=t(439),s=t(791),i=t(689),r=t(87),o=t(184),a=function(){var e=(0,i.UO)().movieId,n=(0,i.s0)(),t=(0,i.TH)(),a=(0,s.useState)(""),h=(0,c.Z)(a,2),l=h[0],u=h[1],d=(0,s.useState)([]),f=(0,c.Z)(d,2),m=f[0],j=f[1];(0,s.useEffect)((function(){var n="84c9ab04e100be4662cee8d4849b6920",t="https://api.themoviedb.org";""===l?fetch("".concat(t,"/3/movie/").concat(e,"?api_key=").concat(n)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){j([])})).catch((function(e){console.log("Error fetching movie:",e)})):fetch("".concat(t,"/3/search/movie?query=").concat(l,"&api_key=").concat(n)).then((function(e){if(!e.ok)throw new Error(e.status);return e.json()})).then((function(e){j(e.results)})).catch((function(e){console.log("Error fetching search results:",e)}))}),[e,l]);return e&&0===m.length?(0,o.jsx)("div",{children:"Loading..."}):(0,o.jsxs)(o.Fragment,{children:[e&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.rU,{to:"/",className:"button",children:"Go back"}),(0,o.jsx)("div",{className:"movie_section"}),(0,o.jsxs)("div",{className:"additional_info",children:[(0,o.jsx)("p",{children:"Additional information"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(r.rU,{to:"/movies/".concat(e,"/cast"),children:"Cast"})}),(0,o.jsx)("li",{children:(0,o.jsx)(r.rU,{to:"/movies/".concat(e,"/reviews"),children:"Reviews"})})]})]})]}),(0,o.jsxs)("div",{className:"search_section",children:[(0,o.jsx)("input",{type:"text",value:l,onChange:function(e){u(e.target.value)},placeholder:"Search movies..."}),(0,o.jsx)("button",{onClick:function(){t.pathname.includes("/movies/")?u(t.search.replace("?search=","")):n("/movies?search=".concat(l))},children:"Search"})]}),m.length>0&&(0,o.jsxs)("div",{className:"search_results",children:[(0,o.jsx)("h2",{children:"Search Results"}),(0,o.jsx)("ul",{children:m.map((function(e){return(0,o.jsx)("li",{children:(0,o.jsx)(r.rU,{to:"/movies/".concat(e.id),children:e.title})},e.id)}))})]}),(0,o.jsx)(i.j3,{})]})}}}]);
//# sourceMappingURL=702.c5da1124.chunk.js.map